<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>üíñ</title>
  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      font-family: Inter, "Trebuchet MS", system-ui, -apple-system, "Segoe UI", Roboto, Arial;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      background: linear-gradient(135deg,#a8e4ff 0%,#ff9ecf 100%);
      display:flex;align-items:center;justify-content:center;overflow:hidden;color:#222;
    }

    #app{
      width:94vw;max-width:1040px;height:92vh;max-height:820px;
      border-radius:22px;box-shadow:0 28px 80px rgba(30,20,40,0.12);
      background: linear-gradient(180deg, rgba(255,255,255,0.97), rgba(255,245,255,0.92));
      padding:20px;position:relative;display:flex;flex-direction:column;gap:14px;
      overflow:hidden;
    }

    .top {display:flex;align-items:center;justify-content:space-between;pointer-events:none;}
    .logo{display:flex;align-items:center;gap:10px;pointer-events:auto;}
    .badge{
      width:50px;height:50px;border-radius:50%;background:radial-gradient(circle at 35% 20%,#fff7fb,#ffc1de);
      display:grid;place-items:center;font-size:22px;box-shadow:0 6px 18px rgba(255,105,180,0.12)
    }

    .main{flex:1;display:grid;grid-template-columns:1fr 380px;gap:16px;align-items:stretch;}
    .left{
      background:linear-gradient(180deg, rgba(255,255,255,0.85), rgba(240,250,255,0.72));
      border-radius:14px;padding:18px;display:flex;flex-direction:column;gap:12px;overflow:hidden;
    }
    .headline{font-weight:800;color:#ff2f86;font-size:1.2rem;letter-spacing:0.2px;pointer-events:none;}
    .notes{flex:1;display:flex;align-items:center;justify-content:center;}
    .note-card{
      width:100%;height:100%;border-radius:14px;padding:18px;background:linear-gradient(180deg,#fff,#fff8fb);
      box-shadow:0 14px 40px rgba(200,90,140,0.06);display:flex;flex-direction:column;gap:12px;justify-content:center;
    }
    .line{
      font-size:1.15rem;color:#333;line-height:1.5;opacity:0;transform:translateY(12px);
      transition: all 520ms cubic-bezier(.2,.9,.3,1);
    }
    .line.show{opacity:1;transform:none}
    .cute-grid{display:grid;gap:8px;margin-top:6px}
    .cute-item{
      background:linear-gradient(90deg, rgba(255,250,255,0.76), rgba(255,240,250,0.72));
      padding:10px 12px;border-radius:10px;font-weight:600;box-shadow:0 6px 18px rgba(255,105,180,0.05)
    }

    .right{display:flex;flex-direction:column;gap:12px;align-items:stretch}
    .proposal{
      flex:1;background:linear-gradient(180deg, rgba(255,235,245,0.98), rgba(255,245,255,0.95));
      border-radius:12px;padding:18px;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;
    }
    .box{
      width:100%;padding:18px;border-radius:14px;border:2px dashed rgba(255,105,180,0.26);
      background:linear-gradient(180deg, rgba(255,255,255,0.92), rgba(255,240,250,0.92));
      text-align:center;font-weight:700;font-size:1.05rem;cursor:pointer;user-select:none;
      transition:transform .22s ease, box-shadow .22s ease;
      box-shadow:0 12px 28px rgba(255,105,180,0.06);
    }
    .box:hover{transform:translateY(-6px)}
    .box.shaky{animation:shake 900ms ease-in-out infinite}
    @keyframes shake{
      0%{transform:translateY(0) rotate(-1deg)}
      25%{transform:translateY(-3px) rotate(1deg)}
      50%{transform:translateY(0) rotate(-0.5deg)}
      75%{transform:translateY(-2px) rotate(1.2deg)}
      100%{transform:translateY(0) rotate(-1deg)}
    }

    .pm{margin-top:12px;width:100%;text-align:center;display:none;flex-direction:column;gap:10px;align-items:center;}
    .pm.show{display:flex}
    .pm h2{font-size:1.1rem;color:#ff2f86;margin-bottom:4px}
    .btns{display:flex;gap:10px}
    .btn{
      border:none;padding:10px 14px;border-radius:12px;font-weight:700;cursor:pointer;background:rgba(255,255,255,0.92);
      box-shadow:0 10px 28px rgba(0,0,0,0.06);transition:transform .15s ease;
    }
    .btn:active{transform:translateY(1px)}
    .yes{color:#fff;background:linear-gradient(90deg,#ff6aa4,#ff2f86)}
    .later{color:#ff2f86;border:2px solid rgba(255,47,134,0.12);background:transparent}

    .dramatic{margin-top:8px;font-size:1.05rem;color:#444;display:none;opacity:0;transform:scale(.98);transition:all 520ms}
    .dramatic.show{display:block;opacity:1;transform:scale(1)}
    .love-reply{margin-top:8px;font-size:1.25rem;color:#ff2470;font-weight:800;display:none;opacity:0;transform:scale(.95);transition:all 420ms cubic-bezier(.2,.9,.3,1)}
    .love-reply.show{display:block;opacity:1;transform:scale(1)}

    .finalReveal{
      position:absolute;inset:0;display:grid;place-items:center;pointer-events:none;opacity:0;transition:opacity .6s ease;
    }
    .finalReveal.show{opacity:1}
    .finalText{
      background:linear-gradient(90deg,#fff0fb,#fffbe6);
      padding:28px 36px;border-radius:20px;font-weight:900;font-size:2rem;color:#ff2f86;
      text-align:center;box-shadow:0 40px 120px rgba(255,70,140,0.12);
      transform:scale(.98);animation:glow 1.2s ease-in-out infinite alternate;
    }
    @keyframes glow{
      from{filter:drop-shadow(0 10px 30px rgba(255,120,170,0.08))}
      to{filter:drop-shadow(0 26px 60px rgba(255,80,150,0.16))}
    }

    .decor{position:absolute;inset:0;pointer-events:none;overflow:hidden}
    .heart, .spark, .confetti{position:absolute;pointer-events:none;font-size:18px;will-change:transform,opacity;}

    @media (max-width:880px){
      .main{grid-template-columns:1fr;grid-auto-rows:auto}
      .right{order:2}
      .left{order:1}
      #app{height:100vh;border-radius:0;padding:12px}
    }
  </style>
</head>
<body>
  <div id="app" role="main" aria-live="polite">
    <div class="top">
      <div class="logo" aria-hidden="true">
        <div class="badge">‚ô•</div>
        <div style="font-weight:800;color:#ff2f86">a tiny place for Feri</div>
      </div>
      <div style="opacity:.8;font-size:.95rem;pointer-events:none">made with sugar & starlight ‚ú®</div>
    </div>

    <div class="main">
      <section class="left" aria-label="Cute notes">
        <div class="headline">Feri, some things I wanted to say...</div>
        <div class="notes">
          <div class="note-card" id="noteCard">
            <p class="line" id="l1">you make rainy days feel like summers ‚Äî warm and bright, Feri.</p>
            <p class="line" id="l2">when you laugh, the world rearranges itself to fit that sound, Feri.</p>
            <p class="line" id="l3">i like the way our stories sound when we tell them together, Feri.</p>
            <div class="cute-grid" id="cuteGrid">
              <div class="cute-item">you are my favorite hello and hardest goodbye, Feri.</div>
              <div class="cute-item">i carry your smile like a favorite song, Feri.</div>
              <div class="cute-item">with you, ordinary things become enchanted, Feri.</div>
            </div>
          </div>
        </div>
      </section>

      <aside class="right" aria-label="Proposal area">
        <div class="proposal">
          <div class="box shaky" id="proposalBox" role="button" tabindex="0" aria-pressed="false">üéÅ Tap for surprise</div>

          <div class="pm" id="proposalPanel" aria-hidden="true">
            <h2>Feri, will you be mine forever? üíçüíñ</h2>
            <div class="btns">
              <button class="btn yes" id="yesBtn">Yes, Forever! üíï</button>
              <button class="btn later" id="laterBtn">Ask me later üò¢</button>
            </div>
            <div class="dramatic" id="dramaticText" aria-live="polite"></div>
            <div class="love-reply" id="loveReply" aria-live="polite"></div>
          </div>
        </div>

        <div style="text-align:center;color:#555;font-size:.95rem">handmade with a little courage ‚ú®</div>
      </aside>
    </div>

    <div class="decor" id="decor"></div>

    <div class="finalReveal" id="finalReveal" aria-hidden="true">
      <div class="finalText" id="finalText">Forever Starts Now, Feri üíç‚ú®</div>
    </div>
  </div>

  <audio id="bgAudio" preload="auto" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_9c6b0efc71.mp3?filename=romantic-piano-112191.mp3"></audio>

  <script>
    (function(){
      const lines = [
        "you make rainy days feel like summers ‚Äî warm and bright, Feri.",
        "when you laugh, the world rearranges itself to fit that sound, Feri.",
        "i like the way our stories sound when we tell them together, Feri.",
        "you are my favorite hello and hardest goodbye, Feri.",
        "i carry your smile like a favorite song, Feri.",
        "with you, ordinary things become enchanted, Feri."
      ];

      const l1 = document.getElementById('l1');
      const l2 = document.getElementById('l2');
      const l3 = document.getElementById('l3');
      const cuteGrid = document.getElementById('cuteGrid');
      const proposalBox = document.getElementById('proposalBox');
      const proposalPanel = document.getElementById('proposalPanel');
      const yesBtn = document.getElementById('yesBtn');
      const laterBtn = document.getElementById('laterBtn');
      const dramaticText = document.getElementById('dramaticText');
      const loveReply = document.getElementById('loveReply');
      const decor = document.getElementById('decor');
      const finalReveal = document.getElementById('finalReveal');
      const bgAudio = document.getElementById('bgAudio');

      function showLines(i = 0){
        const els = [l1,l2,l3];
        for(let k=0;k<els.length;k++){
          const el = els[k];
          el.classList.remove('show');
          el.style.transitionDelay = (k*80)+'ms';
          el.textContent = lines[(i+k)%lines.length];
          setTimeout(()=>el.classList.add('show'), 80 + k*120);
        }
        const items = cuteGrid.querySelectorAll('.cute-item');
        items.forEach((it, idx)=>{
          it.animate([{transform:'translateY(0)'},{transform:'translateY(-6px)'},{transform:'translateY(0)'}],{duration:900,delay:idx*80,easing:'ease-out'});
        });
      }

      let idx=0;
      showLines(idx);
      let auto = setInterval(()=>{ idx=(idx+1)%lines.length; showLines(idx); },6000);
      document.getElementById('app').addEventListener('mouseenter', ()=>clearInterval(auto));
      document.getElementById('app').addEventListener('mouseleave', ()=>{ clearInterval(auto); auto=setInterval(()=>{ idx=(idx+1)%lines.length; showLines(idx); },6000); });

      function openPanel(){
        proposalPanel.classList.add('show');
        proposalPanel.setAttribute('aria-hidden','false');
        proposalBox.classList.remove('shaky');
      }
      proposalBox.addEventListener('click', openPanel);
      proposalBox.addEventListener('keydown', (e)=>{ if(e.key==='Enter'||e.key===' ') openPanel(); });

      laterBtn.addEventListener('click', ()=>{
        dramaticText.textContent = "üò≠ You broke my heart... but I‚Äôll wait üíî";
        dramaticText.classList.add('show');
        dramaticText.animate([{transform:'scale(1)'},{transform:'scale(1.02)'},{transform:'scale(1)'}],{duration:900});
      });

      let heartInterval=null, sparkInterval=null, confettiInterval=null;
      function startEndlessHearts(){ clearInterval(heartInterval); heartInterval=setInterval(spawnHeart,420);}
      function spawnHeart(){
        const d=document.createElement('div');d.className='heart';d.textContent=['üíó','üíñ','üíù'][Math.floor(Math.random()*3)];
        const size=14+Math.random()*28;d.style.fontSize=size+'px';
        d.style.left=(5+Math.random()*90)+'%';d.style.top=(60+Math.random()*30)+'%';
        decor.appendChild(d);
        const duration=2200+Math.random()*1800;
        d.animate([
          { transform: 'translateY(0) scale(0.8)', opacity:1 },
          { transform:`translateY(${ -120 - Math.random()*160 }px) translateX(${ (Math.random()-0.5)*120 }px) scale(1.15)`, opacity:1, offset:0.6 },
          { transform:`translateY(${ -300 - Math.random()*200 }px) scale(0.6)`, opacity:0 }
        ],{ duration:duration, easing:'cubic-bezier(.2,.9,.3,1)'});
        setTimeout(()=>d.remove(), duration+80);
      }

      function startSparks(){ clearInterval(sparkInterval); sparkInterval=setInterval(spawnSpark,360);}
      function spawnSpark(){
        const s=document.createElement('div');s.className='spark';s.textContent='‚ú®';
        const size=10+Math.random()*18;s.style.fontSize=size+'px';
        s.style.left=(5+Math.random()*90)+'%';s.style.top=(10+Math.random()*70)+'%';
        decor.appendChild(s);
        const dur=1200+Math.random()*1200;
        s.animate([{ transform:'translateY(0) scale(.6)', opacity:0.9 },{ transform:`translateY(${ -60 - Math.random()*80 }px) scale(1.2)`, opacity:0 }],{duration:dur,easing:'cubic-bezier(.2,.9,.3,1)'});
        setTimeout(()=>s.remove(),dur+60);
      }

      function startConfetti(){ clearInterval(confettiInterval); confettiInterval=setInterval(spawnConfettiBurst,1400);}
      function spawnConfettiBurst(){
        const colors=['üéä','üéâ','‚ú®','üí´','üíñ'];
        for(let i=0;i<12;i++){
          const c=document.createElement('div');c.className='confetti';
          c.textContent=colors[Math.floor(Math.random()*colors.length)];
          c.style.left=(40+Math.random()*20)+'%';c.style.top=(40+Math.random()*20)+'%';
          const dur=1800+Math.random()*1200;
          c.style.fontSize=(12+Math.random()*20)+'px';
          decor.appendChild(c);
          c.animate([{transform:'translateY(0) translateX(0) rotate(0deg)',opacity:1},{transform:`translateY(${160+Math.random()*240}px) translateX(${(Math.random()-0.5)*420}px) rotate(${(Math.random()-0.5)*720}deg)`,opacity:0}],{duration:dur,easing:'cubic-bezier(.25,.9,.3,1)'});
          setTimeout(()=>c.remove(),dur+50);
        }
      }

      function typeOut(element,text,speed=40,cb){ element.textContent='';element.style.display='block';element.classList.remove('show');let i=0;
        const t=setInterval(()=>{element.textContent+=text.charAt(i)||'';i++;if(i>text.length){clearInterval(t);element.classList.add('show');if(cb)cb();}},speed);
      }

      yesBtn.addEventListener('click',()=>{
        typeOut(loveReply,"üíñ Love you too, Feri üíñ",45);
        loveReply.classList.add('show');
        try{ bgAudio.currentTime=0; bgAudio.volume=0.75; const p=bgAudio.play(); if(p && p.then)p.catch(()=>{}); }catch(e){}
        startEndlessHearts(); startSparks(); startConfetti();
        setTimeout(()=> finalReveal.classList.add('show'),3000);
        spawnConfettiBurst();
      });

      window.addEventListener('beforeunload',()=>{ clearInterval(heartInterval); clearInterval(sparkInterval); clearInterval(confettiInterval);});
      window.addEventListener('keydown',(e)=>{ if(e.key==='y' && proposalPanel.classList.contains('show')) yesBtn.click();});
      laterBtn.addEventListener('dblclick',()=>{ dramaticText.classList.add('show'); dramaticText.textContent="üò≠ still waiting... please take care üíî";});
      setTimeout(()=>proposalBox.classList.remove('shaky'),4200);
      proposalBox.addEventListener('click',()=> setTimeout(()=> yesBtn.focus(),220));
    })();
  </script>
</body>
</html>
